> # 雅典娜项目代码提交发布流程

## 提交发布流程概述

1、梳理开发及优化功能，确定好新版本要发布的功能列表

2、在正常的开发分支上提交代码， 注意提交代码 写备注格式

3、将要发布的功能 合并到 Release 分支，打包发布

4、Release 发布后修改 测试 bug，develop 上修改 后合并到 Release 注意提交备注格式

5、基于 Tag 新建分支 YDN-Tag-2.x.x 修改 bug，修改完成重新打 Tag，合并到开发分支和 Release 分支

## 新版本上线的 功能列表格式

| 功能名称            | 文档名称           | sheet 名称        | 备注 |
| ------------------- | ------------------ | ----------------- | ---- |
| 1.机台效率优化      | 功能优化 0228.xlsx | 机台效率 0309     |      |
| 2.停车记录优化 0314 | 同上...            | 停车记录优化 0314 |      |
| 3.提醒优化 0316     | 功能优化 0316.xlsx | 提醒优化 0316     |      |
| 4.停车分析优化 0223 | 同上...            | 停车分析优化 0223 |      |
| 5.改纺优化 0331     | 功能优化 0331.xlsx | 改纺优化 0331     |      |
| 6.订单跟踪优化 0331 | 功能优化 0331.xlsx | 订单跟踪优化 0331 |      |
| 7.日报月报优化 0331 | 同上...            | 日报月报优化 0331 |      |
| ...                 | ...                | ...               |      |

## 提交代码备注格式

```
title：Bug-提醒优化0326-(#2407)     // 标识 + 群内文件对应sheet名称 + 其他
description： 消息列表添加搜索功能，列表样式修改   // 修改内容的描述

// 备注标识说明
Bug-提醒优化0326-(#2407)   // 日常修改Bug，带上bug的id
Dev-提醒优化0326           // 日常开发及优化
Pub-提醒优化0326           // 新版本发布
Doc-发布流程文档补充        // 文档相关修改
...-其他内容               // 其他待定标识或内容

PS：开发过程中注意 代码单次提交的功能单一性，尽量避免修改多个功能一次性提交；

```

## Gitlab 代码分支说明

```
# 雅典娜 APP (http://dev1.athenaplat.com:9099/qtmw/qcloud/qcloud-app-server.git)
# PS: 前后端共用一个git地址 不同分支
└── qcloud-app-server
    └── Branches                  // 所有分支
        ├── master                // 主线分支（管理员才有权限提交合并等）
        ├── yadianna              // 雅典娜 APP 前端开发分支
        ├── YDN-Release-App       // 雅典娜 APP 前端打包发布分支
        ├── master-athenaplat     // 雅典娜 APP 后端开发分支
        ├── YDN-Release-Backend   // 雅典娜 APP 后端打包发布分支
        ├── ...                   // 其他江西明恒、榆次等分支
        └── YDN-Tag-2.x.x         // 基于已发布的某版本Tag新建的专门修改bug的分支
    └── Tags                      // 已经发布的APP 对应版本的 Tag备份
        ├── v.2.9.0-af            // 雅典娜 APP 服务端 v.2.9.0 版本 tag
        ├── v.2.9.0-bf            // 雅典娜 APP 前端 v.2.9.0 版本 tag
        ├── v.2.8.0-af            // 雅典娜 APP 服务端 v.2.8.0 版本 tag
        ├── v.2.8.0-bf            // 雅典娜 APP 前端 v.2.8.0 版本 tag
        └── ...                   // 其他版本 tag


# 雅典娜 customer端 (http://dev1.athenaplat.com:9099/qtmw/qcloud/qcloud-customer-web.git)
└── qcloud-customer-web
    └── Branches                  // 所有分支
        ├── master                // 主线分支（管理员才有权限提交合并等）
        ├── upgrade-yadianna      // 雅典娜 customer 前端开发分支
        ├── YDN-Release-Frontend  // 雅典娜 customer 前端打包发布分支
        ├── ...                   // 其他江西明恒、榆次等分支
        └── YDN-Tag-2.x.x         // 基于已发布的某版本Tag新建的专门修改bug的分支
    └── Tags                      // 已经发布的APP 对应版本的 Tag备份
        ├── v.2.9.0               // 雅典娜 customer 前端 v.2.9.0 版本 tag
        ├── v.2.8.0               // 雅典娜 customer 前端 v.2.8.0 版本 tag
        ├── v.2.7.0               // 雅典娜 customer 前端 v.2.7.0 版本 tag
        └── ...                   // 其他版本 tag

```
